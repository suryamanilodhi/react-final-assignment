{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Downloads\\\\Edyoda-ReactFinal-Assignment-main\\\\Edyoda-ReactFinal-Assignment-main\\\\src\\\\Containers\\\\AccountPage\\\\ChangeAvatar.js\";\nimport React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\n\nclass ChangeAvatar extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      profileImg: profile,\n      id: \"someUniqueId\",\n      // I would use this.props.id for a real world implementation\n      imageURI: null,\n      Accountvalue: \"\" // uploadButton:true,\n      // AccountValue:this.props.Accountvalue\n\n    };\n\n    this.deletimg = () => {\n      let AccountValue = this.props.AccountValue;\n      console.log(AccountValue);\n\n      if (AccountValue) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\")); //const filteritem = this.state.items.filter(item => item.key !== key);\n\n        acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n      }\n\n      this.setState({\n        profileImg: profile\n      });\n    };\n  }\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const {\n        profilePic\n      } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg: typeof profilePic !== \"undefined\" && profilePic !== \"\" ? profilePic : profile,\n        Accountvalue: this.props.Accountvalue\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n\n      let reader = new FileReader();\n\n      reader.onload = function (e) {\n        let acctlist = localStorage.getItem(\"accountdata\") === null ? [] : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] = e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result\n        });\n      }.bind(this);\n\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: [\"tm-avatar-container\", classes.tm_col_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_bg_primary_dark,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      className: classes.tm_block_title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, \"Change Avatar\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tm_avatar_container,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.profileImg,\n      alt: \"Avatar\",\n      className: [\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"#\",\n      className: [\"tm-avatar-delete-link\", classes.tm_avatar_delete_link].join(\" \"),\n      onClick: this.deletimg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"far fa-trash-alt tm-product-delete-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 15\n      }\n    }))), this.state.Accountvalue === \"\" ? null : /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: this.state.id,\n      className: \"button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    }, \"Upload an image\"), /*#__PURE__*/React.createElement(\"input\", {\n      id: this.state.id,\n      type: \"file\",\n      onChange: this.handleChange.bind(this),\n      className: \"show-for-sr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default ChangeAvatar;","map":{"version":3,"names":["React","Component","classes","profile","ChangeAvatar","state","profileImg","id","imageURI","Accountvalue","deletimg","AccountValue","props","console","log","acctlist","localStorage","getItem","JSON","parse","setItem","stringify","setState","componentDidUpdate","oldProps","profilePic","shouldComponentUpdate","readURI","e","target","files","filename","name","regx","test","alert","reader","FileReader","onload","result","bind","readAsDataURL","handleChange","onChange","undefined","render","tm_col_avatar","join","tm_bg_primary_dark","tm_block_title","tm_avatar_container","tm_avatar","tm_avatar_delete_link"],"sources":["C:/Users/Asus/Downloads/Edyoda-ReactFinal-Assignment-main/Edyoda-ReactFinal-Assignment-main/src/Containers/AccountPage/ChangeAvatar.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport classes from \"./ChangeAvatar.module.css\";\nimport profile from \"../../Assests/images/avatar.png\";\nclass ChangeAvatar extends Component {\n  state = {\n    profileImg: profile,\n    id: \"someUniqueId\", // I would use this.props.id for a real world implementation\n    imageURI: null,\n    Accountvalue: \"\",\n    // uploadButton:true,\n    // AccountValue:this.props.Accountvalue\n  };\n\n  componentDidUpdate(oldProps) {\n    if (oldProps.ChangeAvatar !== this.props.ChangeAvatar) {\n      const { profilePic } = this.props.ChangeAvatar;\n      this.setState({\n        profileImg:\n          typeof profilePic !== \"undefined\" && profilePic !== \"\"\n            ? profilePic\n            : profile,\n        Accountvalue: this.props.Accountvalue,\n      });\n    }\n  }\n\n  shouldComponentUpdate() {\n    if (typeof this.props.ChangeAvatar === \"undefined\") {\n      return false;\n    } else {\n      return true;\n    }\n  }\n  deletimg = () => {\n    let AccountValue = this.props.AccountValue;\n    console.log(AccountValue);\n    if (AccountValue) {\n      let acctlist =\n        localStorage.getItem(\"accountdata\") === null\n          ? []\n          : JSON.parse(localStorage.getItem(\"accountdata\"));\n      //const filteritem = this.state.items.filter(item => item.key !== key);\n      acctlist[\"accountsPage\"][AccountValue][\"profilePic\"] = \"\"; // Image deleted\n      localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n    }\n\n    this.setState({\n      profileImg: profile,\n    });\n  };\n\n  readURI(e) {\n    if (e.target.files && e.target.files[0]) {\n      console.log(e.target.files[0]);\n      let filename = e.target.files[0].name;\n      let regx = /\\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(filename);\n\n      if (regx === false) {\n        alert(\"Invalid file type\");\n        return false;\n      }\n      let reader = new FileReader();\n      reader.onload = function (e) {\n        let acctlist =\n          localStorage.getItem(\"accountdata\") === null\n            ? []\n            : JSON.parse(localStorage.getItem(\"accountdata\"));\n        acctlist[\"accountsPage\"][this.props.Accountvalue][\"profilePic\"] =\n          e.target.result;\n        localStorage.setItem(\"accountdata\", JSON.stringify(acctlist));\n\n        this.setState({\n          imageURI: e.target.result,\n          profileImg: e.target.result,\n        });\n      }.bind(this);\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  handleChange(e) {\n    this.readURI(e); // maybe call this with webworker or async library?\n    if (this.props.onChange !== undefined) this.props.onChange(e); // propagate to parent component\n  }\n  render() {\n    return (\n      <div className={[\"tm-avatar-container\", classes.tm_col_avatar].join(\" \")}>\n        <div className={classes.tm_bg_primary_dark}>\n          <h2 className={classes.tm_block_title}>Change Avatar</h2>\n          <div className={classes.tm_avatar_container}>\n            <img\n              src={this.state.profileImg}\n              alt=\"Avatar\"\n              className={[\"img-fluid\", \"mb-4\", classes.tm_avatar].join(\" \")}\n            />\n            <a\n              href=\"#\"\n              className={[\n                \"tm-avatar-delete-link\",\n                classes.tm_avatar_delete_link,\n              ].join(\" \")}\n              onClick={this.deletimg}\n            >\n              <i className=\"far fa-trash-alt tm-product-delete-icon\"></i>\n            </a>\n          </div>\n\n          {this.state.Accountvalue === \"\" ? null : (\n            <label htmlFor={this.state.id} className=\"button\">\n              Upload an image\n            </label>\n          )}\n          <input\n            id={this.state.id}\n            type=\"file\"\n            onChange={this.handleChange.bind(this)}\n            className=\"show-for-sr\"\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ChangeAvatar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}